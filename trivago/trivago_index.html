<!DOCTYPE html>
<html class="full_view" xmlns="http://www.w3.org/1999/html">
<head lang="en">
    <meta charset="UTF-8">
    <!--
        Want to get paid to dissect our code?
        We're hiring developers: www.trivago.com/jobs

        I would be thrilled to be part of the community of developers who built Trivago.
        Here is my application assignment.
        Please let me know if my skills fit the person you are looking for.
    -->
    <title>Trivago QA Interview Assignment</title>
    <link rel="stylesheet" href="main_view.css">
    <link href="http://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto+Condensed">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold" title="roboto">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <a name="myAnchor" id="myAnchor"></a>
</head>

<body>

    <div id="header">
        <div class="wrap" id="header_wrap">
            <div id="logo_view">
                <img src="http://ie1.trivago.com/images/layoutimages/mars/logo_ci/logo@2x_.png" alt="TrivagoLogo" class="logo">
            </div>
            <div id="title_view">
                <div id="title">Junior Quality Assurance Assignment</div>
            </div>
        </div>
    </div>

    <div id="nav">
        <ul id="nav_list">
            <li id="btn1" style="border-right: 1px solid #CCC;"><a href="#" onclick="q_solver1()">Solution 1</a></li>
            <li id="btn2" style="border-right: 1px solid #CCC;"><a href="#" onclick="q_solver2()">Solution 2</a></li>
            <li id="btn3" style="border-right: 1px solid #CCC;"><a href="#" onclick="q_solver3()">Solution 3a</a></li>
            <li id="btn4" style="border-right: 1px solid #CCC;"><a href="#" onclick="q_solver4()">Solution 3b</a></li>
            <li id="btn5" ><a href="#" onclick="q_solver5()">Observations</a></li>
        </ul>
    </div>
    <div id="container">
        <div id="start">
            <p><i>"I'm so fast that last night I turned off the light switch in my hotel <br>room and was in bed before the room was dark!" - Muhammad Ali</i></p>
        </div>
        <div id="article">
            <p id="home">Dear visitor,</p>
            <p>This simple website was built solely for the purpose of representing the trivago company assignment solutions<br>
            and will exist until it will be necessary unless taken down due to any law violations. The trivago company logo is used<br>
            because this website will only be referenced by trivago company staff members, but is property of trivago and this website uses it without authorization.</p>
            <div id="end">
                <p>Quality Assurance Position Applicant<br>Teodor Rupi</p>
                <p><b>Email: </b>teodorrupi at gmail dot com
                <br><b>LinkedIn: </b>de.linkedin.com/in/teodorrupi/</p>
            </div>
        </div>
    </div>

    <div id="footer">
        <a href="#myAnchor" rel="" id="anchor1" class="anchorLink">
        <div id="d1" style="background-color: #2789c2;"></div>
        <div id="d2" style="background-color: #dd732c;"></div>
        <div id="d3" style=" background-color: #8b0c24;"></div></a>
        <br>
        <div id="d4">
            Teodor Rupi (44&pi;) &copy; 2014 <br>version 0.9 beta | <a href="#" onclick="contact()">contact</a>
        </div>
    </div>

    <script>
        function contact(){
            alert("Teodor Rupi\nEmail : teodorrupi at gmail dot com")
        }
    </script>

    <script type="text/javascript">
        document.getElementById("header").onmouseover = function() {setTrivagoColors()};
        document.getElementById("nav").onmouseover = function() {setTrivagoColors()};
        document.getElementById("container").onmouseover = function() {resetTrivagoColors()};

        function setTrivagoColors(){
            document.getElementById("title").innerHTML = '<span style="color:#215e8b;">Junior</span>' +
            '<span style="color:#dd732c;">&nbsp;Quality Assurance</span>' +
            '<span style="color:#8b0c24;">&nbsp;Assignment</span>';
        }
        function resetTrivagoColors(){
            document.getElementById("title").innerHTML = 'Junior Quality Assurance Assignment';
        }
    </script>

    <script type="text/javascript">
        function q_solver1 ()
        {
            document.getElementById("start").innerHTML = '<p><i>"In life, there is no going back ... " - Sir. Missing Home Button</p></i>';
            document.getElementById("article").innerHTML =
                    '<p><b><h3>Question One Solution: Analyze</h3></b>' +
                    '</p><b>Description: </b>Search "Dusseldorf, German" and "Hilden, Germany" on trivago.co.uk.' +
                    '</br> Compare the search results and note any differences in terms of results and product behaviour' +
                    '</br> What items are displayed? How are they arranged? Etc. Try to explain them.' +
                    '</br> Then search for "Eiffel Tower". Is the search more similar to Hilden or Dusseldorf search?' +
                    '</br></br>' +

                    '<p><b>Search observations: </b></p>' +
                    '<p>While performing this task, to get a better understanding of the search mechanism I also tested the search with "Berlin, German", ' +
                    '"Hamburg, German", "Bremen, German" and a few other queries. Doing this, I was able to understand most of the process and how the' +
                    ' results are generated, which made me reach the conclusion that the search is not fully optimized on functioning on all search queries.<b>Please check Observations for further observations on the Search functionality.</b>' +
                    '</br></br>Searching "Dusseldorf, German" and "Hilden, Germany"</br>Below you can see the search results suggestions.<div id="inline_img"><img style="width: 50%; height: 50%;" src="task_1_log_1.PNG">' +
                    '<img style="width: 50%; height: 50%;" src="task_1_log_2.PNG"></div>' +
                    '<b>(1)</b> The way search suggestions are organised is: Geographical locations(Country, City or State), City Regions(Mitte, Aeroport, etc) and Hotels. ' +
                    '</br><b>(2)</b> The geographical locations are shown sorted alphabetically. Dusseldorf comes before Germany comes before Hilden.' +
                    '</br><b>(3)</b> Pressing search after inputing the queries, :Dusseldorf, German: will result in a search for Dusseldorf and :Hilden, Germany: will result in' +
                    ' a search for Germany unless second suggestion is selected.' +
                    '</br><b>(4)</b> Dusseldorf results page features a Hotel Test widget which is not found in a few other result pages, but on main cities only.</p>' +
                    '</br>' +
                    '<p><b>Display and Arrangement: </b></p>' +
                    '<p>The results page is divided in 5 parts. The header containing the search bar, the footer at the end containing links to other trivago sites, ' +
                    'and the body of the site is divided in 3 parts. From left to right: The filters panel, the hotel results objects encapulate info on offers, map, feedback and a few more statistics,' +
                    'and the history and favorites panel. <b>Please check Observations for further observations on the history panel.</b></p>' +
                    '</br>' +
                    '<p><b>Eiffel Tower: </b></p>' +
                    '<p>Being very careful to the results, we can see that searching for the Eiffel Tower will follow the same pattern as Hilden from the point of view' +
                    'that the results are sorted by distance and not popularity as in the case of Dusseldorf.</p>';
        }

        function q_solver2()
        {
            document.getElementById("start").innerHTML = '<p><i>"In life, there is no going back ... " - Sir. Missing Home Button</p></i>';
            document.getElementById("article").innerHTML =
                    '<p><b><h3>Question Two Solution: Document</h3></b></p><b>Description: </b>Have a general look at the functionalities of the website and define some requirements' +
                    '</br> Prioritize them on a scale 1 low to 5 urgent priority.' +
                    '</br> Choose 3 of these requirements and create simple test cases and formulate a short Test Plan.' +
                    '<br><br>' +
                    '<p><b>Functional requirements:</b></p>' +
                    '<p>The functional requirements below are based on functions already built on the website.<br>' +
                    '<b>(a)</b> The search bar shall generate suggestions instantly on text input.[4]' +
                    '<br><b>(b)</b> The website shall allow visitors to choose Check-in/Check-out dates. [5]' +
                    '<br><b>(c)</b> The website shall allow visitors to choose room type (single/double etc..). [5]' +
                    '<br><b>(d)</b> The website should provide visitors with different sortings of the results.[4]' +
                    '<br><b>(e)</b> The website should provide visitors with a sign-in feature to save favorites/results.[3]' +
                    '<br><b>(f)</b> The website should implement filtering options such as Price range, Distance from, hotel size, in-house options [5]' +
                    '<br><b>(g)</b> The website should implement a search history panel [2]' +
                    '<br><b>(h)</b> On results, the website must provide on first glance Photos, Prices, Review Feedbacks and basic info such as "Location", "Other prices list", "distance" [5]' +
                    '<br><b>(i)</b> The website shall implement a multipage results system if page-limit is exceeded.[3]' +
                    '' +
                    '<br><br>Having in mind that trivago offers a website with the purpose of hotel search for fast booking,' +
                    '<br> I would rank (b), (c), (f) and (h) with priority <b>5</b>' +
                    '<br> (a), (d) with priority <b>4</b>' +
                    '<br> (i), (e) with priority <b>3</b>' +
                    '<br> (g) with priority <b>2</b>' +
                    '<br> and none of the functionalities with the priority <b>1</b></p>' +
                    '<br>' +
                    '<p><b>Test cases and Test Plan</b></p>' +
                    '<p>Below I will present the test plan format with the test cases and procedures to follow in the same way this process is handled in industrial projects:<br>' +
                    '<br><b>Test Plan</b>' +
                    '<br> Type: Unit Test Plan (Since we are dealing with chunks of functionality)' +
                    '<br> ID: TP_001' +
                    '<br> Introduction: This test plan will focus on testing the requirements (a), (d), (g). Testing method chosen is Black Box testing, where the test does not approach the lower' +
                    'levels of the application but only knows what it expects and validates the results of some input to the expected behaviour. ' +
                    '<br> Test Items: trivago.com website' +
                    '<br> Features to be tested: Following from functional requirements: (a), (d), (g)' +
                    '<br> Approach: ' +
                    '<br> Testing (a): Test the functionality of the search bar by using several inputs and checking the resulting suggestions, with Correct/Half-Correct/Incorrect inputs.' +
                    '<br> Testing (d): Test this functionality by inputing several search queries and sorting each results page by Popularity/Distance/ etc.. and check if the sorting worked as expected.' +
                    '<br> Testing (g): Test functionality by using several inputs and checking if the history panel has all those searches recorded as history. Refresh page to see if the history is saved as cookies/cache.' +
                    '<br>' +
                    '<br> <b>Test Cases:</b><br>' +
                    '<br> T_C (a): ' +
                    '<br> Test procedure: ' +
                    '<br> Browse to www.trivago.com;' +
                    '<br> Enter input by typing;' +
                    '<br> Observe the suggestions drop down;' +
                    '<br> Test data:' +
                    '<br> -"Dusseldorf, German", -"Bremen, German", -"Berlin, German", -"Hamburg, German", -"Frankfurt, German", -"Hilden, German",' +
                    '<br> -"Dusseldorf, Germany", -"Bremen, Germany", -"Berlin, Germany", -"Hamburg, Germany", -"Frankfurt, Germany", -"Hilden, Germany"' +
                    '<br> Expected Results:' +
                    '<br> For every input, the city name and Germany must come as suggestions in the beginning, interchangable depending on alphabetic order.' +
                    '<br>' +
                    '<br> T_C (d): ' +
                    '<br> Test procedure: ' +
                    '<br> Browse to www.trivago.com;' +
                    '<br> Search with any correct input;' +
                    '<br> Sort the results by Popularity / Rating / Price / Distance;' +
                    '<br> Test data:' +
                    '<br> -"Dusseldorf", -"Bremen", -"Germany", -"Eiffel Tower"'+
                    '<br> Expected Results:' +
                    '<br> Every sorting should produce best to worst results wich means Cheaper>Expensive, Popular>Unpopular and so on. Observe for any entry not sorted well.' +
                    '<br>' +
                    '<br> T_C (g): ' +
                    '<br> Test procedure: ' +
                    '<br> Browse to www.trivago.co.uk;' +
                    '<br> Enter input and search;' +
                    '<br> Observe the history panel on the right side;' +
                    '<br> Test data:' +
                    '<br> -"Dusseldorf", -"Bremen", -"Germany", -"Eiffel Tower"' +
                    '<br> Expected Results:' +
                    '<br> Dusseldorf, Bremen, Germany, Eiffel Tower in the given orded and nothing else should be in the history panel.</p>';
        }

        function q_solver3()
        {
            document.getElementById("start").innerHTML = '<p><i>"In life, there is no going back ... " - Sir. Missing Home Button</p></i>';
            document.getElementById("article").innerHTML =
                    '<p><b><h3>Question ThreeA Solution: Analyze</h3></b>' +
                    '</p><b>Description: </b>Take a look at the website source code and find the technologies used' +
                    '</br> What happens when you execute a regular search?' +
                    '</br> What happens when you filter or open a hotels details slide-out?' +
                    '</br> How is the data formated?' +
                    '</br></br>' +

                    '<p><b>Technologies detected: </b>The list below contains the technologies I have found to be used on trivago web service.<br>' +
                    'On the left-side is the name, on the right is some explanation or evidence.</p>' +
                    '<p>Amazon A9 OpenSearch - profile="http://a9.com/-/spec/opensearch/1.1/"<br>' +
                    'JavaScript - Redundant<br>HTML - Redundant<br>JSON-LD - type="application/ld+json"<br>Schema.org HTML Markups - Data structuring and better page recognision by search providers<br>' +
                    'PHP - A must for the server side. Also www.trivago.com/page_check.php<br>Backbone.js framework- (function(){var v=this;var C=v.Backbone ...<br>Apache - On web server<br>' +
                    'JSON - Redundant<br>JQuery library - To ease js code writing ALSO {throw new Error("jQuery requires...<br>CSS - Redundant<br>MapCSS - CSS for maps<br>' +
                    'Ajax - ajaxComplete and ajaxSend Events on Event Listeners<br>Require.js framework - var requirejs,require,define;<br>Node.js - Assumption/Good idea to use on such website<br></p>' +
                    '<br>'+
                    '<p><b>Executing a regular search: </b>The Search is explained on the upper level and code level.</p>' +
                    '<p>On the upper level of the application, what the user can see as interaction is that based on his input, characters or words are matched to the database to show' +
                    'suggestions drop-down panel. This basically ensures that the user can find what he needs else the location or the name is wrong or not in the database if it does not' +
                    'show up on the suggestions list.</br>On the lower level is what input on the search bar triggers below the interface.' +
                    '</br><b>(1)</b> On key down, the value of id=js_querystring_shadow changes by using js code,' +
                    '</br><b>(2)</b> On button id js_go, the search is initialized with the search string value, ' +
                    '</br><b>(3)</b> Id main_content will hold the results of the search, the filters and the favorites+history panel,' +
                    '</br><b>(4)</b> Div with id content and subdiv with class container_itemlist itemlist_simplified will contain the block of hotel results,' +
                    '</br><b>(5)</b> List with id js_itemlist will hold all the list elements that make the results.' +
                    '</br><b>(6)</b> On search, pricesearch.g.js is called to calculate prices for all the hotels from different sites.</p>' +
                    '<br>'+
                    '<p><b>Filtering or opening a hotels details: </b></p>' +
                    '<p>' +
                    '</br><b>(1)</b> The filters are part of div with id js_leftcol, ' +
                    '</br><b>(2)</b> When a filter is selected, the html is manipulated by javascript to add Checked class in the class-list except for Distance which changes the ' +
                    'percentage. Class Checked is caught by another script to change the results shown in the page.' +
                    '</br><b>(3)</b> When opening details of a hotel, class Active is added to the list elements of the main_content div,' +
                    '</br><b>(4)</b> This is caught by javascript code (JQuery) which changes the view by activating the drop down box with the information.</p>' +
                    '<br>'+
                    '<p><b>Data formatting: </b></p>' +
                    '<p>Javascript generates all the results and changes the innerHtml of the main_content div to add all the results in a dynamical way, ' +
                    'most probably by using the JSON javascript object notation formatting. Using js the website generates this content which is made of < li > elements ' +
                    'of the list with id js_itemlist<br>' +
                    '</p>' +
                    '<br>';
        }

        function q_solver4()
        {
            document.getElementById("start").innerHTML = '<p><i>"In life, there is no going back ... " - Sir. Missing Home Button</p></i>';
            document.getElementById("article").innerHTML =
                    '<p><b><h3>Question ThreeB Solution: Develop</h3></b></p><b>Description: </b>Chose a test case from Task 2, investigate the posibility to automate the case' +
                    'and provide a solution in either a testing framework or in pseudo code.</p>' +
                    '<br>' +
                    '<p><b>(g)The website should implement a search history panel</b>' +
                    '<br><br>' +
                    '<b>Pseudocode:</b>' +
                    '<br>' +
                    'input_list = {Dusseldorf, Hamburg, Bremen, Berlin, Frankfurt}<br>' +
                    'for x in input_list:<br>' +
                    '&nbsp;&nbsp; search_field.input = x;<br>' +
                    '&nbsp;&nbsp; doSearch();<br>' +
                    'for x in history_list:<br>' +
                    '&nbsp;&nbsp; if x in input_list:<br>' +
                    '&nbsp;&nbsp;&nbsp;&nbsp;pass;<br>' +
                    '&nbsp;&nbsp; else:<br>' +
                    '&nbsp;&nbsp;&nbsp;&nbsp;return Failed<br>' +
                    'return Passed<br><br>' +
                    '' +
                    'The code above is a very high level description of the testing that would take place to test the history saved after the searches.' +
                    'and this test is only testing if after all the searches, the history is working correctly. An additional test would also be to test the history' +
                    'after every input.<br><br>' +
                    '<b>Pure JavaScript function:</b><br>' +
                    'function test_history{<br>'+
                    '&nbsp;&nbsp;var inputs = ["Dusseldorf", "Berlin", "Bremen", "Hamburg"];<br>'+
                    '&nbsp;&nbsp;var i;<br>'+
                    '&nbsp;&nbsp;for (i=0; i < inputs.length(); i++){<br>'+
                    '&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("#js_querystring").value = inputs[i];<br>'+
                    '&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById("#js_go").click();<br>'+
                    '&nbsp;&nbsp;}<br>'+
                    'var history_list = document.getElementsByClassName("path visitable");<br>'+
                    'if history_list.length() != inputs.length(){<br>'+
                    '&nbsp;&nbsp;alert("Test Failed!");<br>'+
                    '&nbsp;&nbsp;return false;<br>'+
                    '}<br>'+
                    'for (var x = 0; x < history_list.length(), x++){<br>' +
                    'len = history_list.length()<br>'+
                    '&nbsp;&nbsp;if history_list[len-1-x].value.indexOf(inputs[x]) > -1{<br>'+
                    '&nbsp;&nbsp;&nbsp;&nbsp; pass;<br>'+
                    '&nbsp;&nbsp;}<br>'+
                    '&nbsp;&nbsp;else{<br>'+
                    '&nbsp;&nbsp;&nbsp;&nbsp;alert("Test Failed!");<br>' +
                    '&nbsp;&nbsp;&nbsp;&nbsp;return false;<br>'+
                    '&nbsp;&nbsp;}<br>'+
                    '}<br>'+
                    'alert("Test Passed!");<br>'+
                    'return true;<br>'+
                    '}<br>' +
                    '<br><br>' +
                    '<b>Selenium Code with Java</b><br>' +
                    'Even though I am not experienced in Selenium, here is my approach using Java with the help of  http://docs.seleniumhq.org/docs/.<br>' +
                    '<a href="https://github.com/teodorrupi/teodorrupi.github.io/blob/master/trivago/selenium_test.java">Selenium Test Code on Github</a></p>';
        }

        function q_solver5()
        {
            document.getElementById("start").innerHTML = '<p><i>"In life, there is no going back ... " - Sir. Missing Home Button</p></i>';
            document.getElementById("article").innerHTML =
                    '<p><b><h3>Personal Observations and Notes</h3></b></p><b>Description: </b>Here are a few observations on the website while I was solving the assignment:' +
                    '<br>' +
                    '<p><b>History Panel</b></p>' +
                    '<p>Going to trivago.com, searching Dusseldorf, Bremen, Germany and Eiffel Tower. Search history shows Las Vegas as part of the history queue. I have seen' +
                    'that is is in all the different sites, where the capital or in this case a major turistic city is included in the search. In the beginning it looked intentional' +
                    'but than I reached to the conclusion that the city or place is added because thats the default search text on trivago start site and by that means that this is actually a ' +
                    'bug in the website, in my opinion.</p>' +
                    '<br>' +
                    '<p><b>Search Mechanism</b></p>' +
                    '<p>Searching "Dusseldorf, German" or "Bremen, German" will give the city as a suggestion and Germany. Searching "Berlin, German" or "Hamburg, German" will' +
                    'not result in either the city or Germany as a suggestion. This happens because Dusseldorf and Bremen are registered in the database as:<br> Bremen Bremen(state), Germany <br>' +
                    'Dusseldorf North Rhine-Westphalia, Germany<br> and Berlin or Hamburg are registered as:<br>Hamburg Germany<br>Berlin Germany<br>As we can see the 2 last queries will not work only because' +
                    'there is no comma (,) in the database naming such as regex [name, germany]. From this problem, I would say that the search needs a few optimizations.</p>' +
                    '<br>' +
                    '<p><b>Offers Place Holder</b></p>' +
                    '<p>After doing a search, when you want to check the offers related to a hotel, I observed that the offers place holder has a static minimal length. This means that when there are' +
                    'very few offers, you will have a big white space until you can see the [^] go-up or fold button. On the other hand, when there are many offers, sometimes the [^] go-up or fold button' +
                    'covers the last result which is definitely a bug. To reproduce these fenomena: <br>(1)Trivago.bg, search Bedale, open the offers for The 3 Coopers' +
                    '<br>(2)Trivago.hu, search Adast, open the offers for Grand de France</p>' +
                    '<br>';
        }
    </script>

    <script type="text/javascript">
        $('#anchor1').click(function(){
            $('html, body').animate({
                scrollTop: $( $(this).attr('href') ).offset().top
            }, 500);
            return false;
        });

    </script>



</body>
</html>